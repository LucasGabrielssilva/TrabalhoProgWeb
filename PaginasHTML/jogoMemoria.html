<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jogo da Memória</title>
  <link rel="stylesheet" href="../FolhasCss/global.css">
  <link rel="stylesheet" href="../FolhasCss/jogoMemoriaEstilo.css">
</head>

<body>

  <header class="main-header">
    <h1>Jogo da Memória</h1>
    <nav>
      <a href="historico.html">Histórico de Partidas</a>
      <a href="editar-perfil.html">Editar Perfil</a>
      <a href="ranking.html">Ranking</a>
      <a href="login.html">Desconectar</a>
    </nav>
  </header>

  <main>
    <section id="status-jogo">
      <h2 class="hidden">Status do Jogo</h2>
      <p>Tempo: <span id="tempo">00:00</span></p>
      <p>Jogadas: <span id="jogadas">0</span></p>
      <p>Modo: <span id="modo">Clássico</span></p>
      <p>Tabuleiro: <span id="tamanho">4x4</span></p>
    </section>

    <section id="seletor-tamanho">
      <h2 class="hidden">Seletor de Tamanho</h2>
      <button onclick="iniciarJogo(2)" data-tamanho="2">2x2</button>
      <button onclick="iniciarJogo(4)" data-tamanho="4">4x4</button>
      <button onclick="iniciarJogo(6)" data-tamanho="6">6x6</button>
      <button onclick="iniciarJogo(8)" data-tamanho="8">8x8</button>
    </section>

    <section id="tabuleiro">
      <h2 class="hidden">Tabuleiro do Jogo</h2>
    </section>

    <section id="controles-jogo">
      <h2 class="hidden">Controles do Jogo</h2>
      <button id="novo-jogo">Novo Jogo</button>
      <button id="ver-trapaca">Ver Trapaça</button>
    </section>
  </main>

  <footer class="main-footer">
    <p>&copy; 2025 Jogo da Memória - Programação para Web</p>
  </footer>

  <script>
    var cartas = [];
    var cartasViradas = [];
    var tamanhoTabuleiro = 0;
    var jogadas = 0;
    var jogandoAtual = false;
    var verificandoPar = false;
    

    //Símbolos para as cartas [REMOVER]
    var simbolos = [] // TODO: Aqui tem q estar um array com os simbolos para as cartas (a depender de como implementaram os simbolos)

    // Embaralhar cartas
    function embaralharCartas(tamanho) {
      var totalCartas = tamanho * tamanho;
      var numPares = totalCartas / 2;

      // Criar pares de cartas
      var cartasDoJogo = [];
      for (var i = 0; i < numPares; i++) {
        var valor = simbolos[i]; // TODO: Aqui tem q estar um array com os simbolos para as cartas (a depender de como implementaram os simbolos)
        cartasDoJogo.push({ id: i * 2, valor: valor, virada: false, encontrada: false });
        cartasDoJogo.push({ id: i * 2 + 1, valor: valor, virada: false, encontrada: false });
      }

      // Algoritmo para embaralhar (Fisher-Yates)
      for (var i = cartasDoJogo.length - 1; i > 0; i--) {
        var j = Math.floor(Math.random() * (i + 1));
        var temp = cartasDoJogo[i];
        cartasDoJogo[i] = cartasDoJogo[j];
        cartasDoJogo[j] = temp;
      }

      return cartasDoJogo;
    }

    // Iniciando o jogo
    function iniciarJogo(tamanho) {
      // Reiniciando variáveis globais
      tamanhoTabuleiro = tamanho;
      cartas = embaralharCartas(tamanho);
      cartasViradas = [];
      jogadas = 0;
      jogandoAtual = true;
      verificandoPar = false;

      // Atualizar interface
      document.getElementById('jogadas').textContent = '0';
      document.getElementById('tempo').textContent = '00:00';
      document.getElementById('tamanho').textContent = tamanho + 'x' + tamanho;

      // Atualizar botões ativos
      var botoes = document.querySelectorAll('#seletor-tamanho button');
      for (var i = 0; i < botoes.length; i++) {
        botoes[i].classList.remove('ativo');
        if (botoes[i].getAttribute('data-tamanho') == tamanho) {
          botoes[i].classList.add('ativo');
        }
      }
    }

    // Iniciar o jogo quando a página carregar
    window.onload = function () {
      iniciarJogo(4);
    };
  </script>

</body>

</html>